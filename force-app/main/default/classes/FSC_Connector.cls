public class FSC_Connector {
    
    
    //Send request to FSC org.
        public static void sendRequestToFSC (){
            //Creating http request object...
            httpRequest request = new httpRequest();
            //Get connection details from custom meta data...
            FSC_Connection__mdt connection = FSC_Connection__mdt.getInstance('FSC_Connection');
             request.setEndpoint(connection.End_Point_URL__c);
            //Set request time out...
            request.setTimeout(120000); // 2 Minutes
            //Set request header...
            request.setHeader('Content-Type',connection.Content_Type__c);
            request.setHeader('x-functions-key',connection.Function_Key__c);
            //Set method... EXP :PATCH
            request.setMethod(connection.Method_Name__c);
            //Set request json body...
            String resuestJson ='[{"No_of_Sites":"4","d500_fscLicCode":"","fsc_processor_turnover":"","certificates_SITES_|id_site|::site_projectauditor_email":"","fsc_TLA_Initiate":"false","fsc_fy_end_date":"","certificate":"1","ContWoodSales":"","expiration_date":"2023-07-13","fsc_trader_turnover":"","status":"","date_terminated":"2023-07-13","fsc_trader_aaf_class":"","StandRefCode":"","fsc_nosales":"false","fsc_terminationreason":"","ID_cert_fscPK":"","certificates_SITES_|id_site|::site_projectauditor_name":"","certificates_SITES_|id_site|::site_accountmanager_email":"","fsc_raincludedinpubsum":"false","total_revenue__C":"","certificates_SITES_|id_site|::site_accountmanager_name":"","certification_date":"2023-07-13","suspension_date":"2023-07-13","fsc_fy_start_date":"","fsc_processor_aaf_class":"","certificates_CERTD400PLANT_|idcert|":[{"location_name":"FSC Integration Site-1","plant_zip":"3456","plant_city":"site city","NumberOfEmployees__fsc":"","location_url":"","Trade_Name__fsc":"","id_certificate_fsc":"","CountryCode_fsc":"US","id_account_fsc":"","id_isprimary":"false","Site_code_extension__fsc":"","plant_address":"Site street site city, Arizona 3456","Local_Company_Name__fsc":"","Preferred_Language__fsc":"","plant_state":"Arizona","certificates_CLIENTCONTACTSjoin_|id_cert|":[{"id_contact_FSCch":"","id_is_primary":"false","Department":"502","MobilePhone":"2345678901","id_location_DMSch":"0038D00000IFXIuQAP","LastName":"1","id_account_FSCch":"","Title":"Title-1","Email":"umesh.kumar@maantic.com","FirstName":"UK","Phone":"12345678901","Salutation":"","Fax":"1234567890"},{"id_contact_FSCch":"","id_is_primary":"false","Department":"502","MobilePhone":"2345678901","id_location_DMSch":"0038D00000IFXIzQAP","LastName":"2","id_account_FSCch":"","Title":"Title-1","Email":"umesh.kumar1@maantic.com","FirstName":"UK","Phone":"12345678901","Salutation":"","Fax":"1234567890"},{"id_contact_FSCch":"","id_is_primary":"false","Department":"502","MobilePhone":"2345678901","id_location_DMSch":"0038D00000IFXJ0QAP","LastName":"3","id_account_FSCch":"","Title":"Title-1","Email":"umesh.kumar2@maantic.com","FirstName":"UK","Phone":"12345678901","Salutation":"","Fax":"1234567890"}]},{"location_name":"FSC Integration Site-1","plant_zip":"3456","plant_city":"site city","NumberOfEmployees__fsc":"","location_url":"","Trade_Name__fsc":"","id_certificate_fsc":"","CountryCode_fsc":"US","id_account_fsc":"","id_isprimary":"false","Site_code_extension__fsc":"","plant_address":"Site street site city, Arizona 3456","Local_Company_Name__fsc":"","Preferred_Language__fsc":"","plant_state":"Arizona","certificates_CLIENTCONTACTSjoin_|id_cert|":[{"id_contact_FSCch":"","id_is_primary":"false","Department":"502","MobilePhone":"2345678901","id_location_DMSch":"0038D00000IFXIuQAP","LastName":"1","id_account_FSCch":"","Title":"Title-1","Email":"umesh.kumar@maantic.com","FirstName":"UK","Phone":"12345678901","Salutation":"","Fax":"1234567890"},{"id_contact_FSCch":"","id_is_primary":"false","Department":"502","MobilePhone":"2345678901","id_location_DMSch":"0038D00000IFXIzQAP","LastName":"2","id_account_FSCch":"","Title":"Title-1","Email":"umesh.kumar1@maantic.com","FirstName":"UK","Phone":"12345678901","Salutation":"","Fax":"1234567890"},{"id_contact_FSCch":"","id_is_primary":"false","Department":"502","MobilePhone":"2345678901","id_location_DMSch":"0038D00000IFXJ0QAP","LastName":"3","id_account_FSCch":"","Title":"Title-1","Email":"umesh.kumar2@maantic.com","FirstName":"UK","Phone":"12345678901","Salutation":"","Fax":"1234567890"}]},{"location_name":"FSC Integration Site-1","plant_zip":"3456","plant_city":"site city","NumberOfEmployees__fsc":"","location_url":"","Trade_Name__fsc":"","id_certificate_fsc":"","CountryCode_fsc":"US","id_account_fsc":"","id_isprimary":"false","Site_code_extension__fsc":"","plant_address":"Site street site city, Arizona 3456","Local_Company_Name__fsc":"","Preferred_Language__fsc":"","plant_state":"Arizona","certificates_CLIENTCONTACTSjoin_|id_cert|":[{"id_contact_FSCch":"","id_is_primary":"false","Department":"502","MobilePhone":"2345678901","id_location_DMSch":"0038D00000IFXIuQAP","LastName":"1","id_account_FSCch":"","Title":"Title-1","Email":"umesh.kumar@maantic.com","FirstName":"UK","Phone":"12345678901","Salutation":"","Fax":"1234567890"},{"id_contact_FSCch":"","id_is_primary":"false","Department":"502","MobilePhone":"2345678901","id_location_DMSch":"0038D00000IFXIzQAP","LastName":"2","id_account_FSCch":"","Title":"Title-1","Email":"umesh.kumar1@maantic.com","FirstName":"UK","Phone":"12345678901","Salutation":"","Fax":"1234567890"},{"id_contact_FSCch":"","id_is_primary":"false","Department":"502","MobilePhone":"2345678901","id_location_DMSch":"0038D00000IFXJ0QAP","LastName":"3","id_account_FSCch":"","Title":"Title-1","Email":"umesh.kumar2@maantic.com","FirstName":"UK","Phone":"12345678901","Salutation":"","Fax":"1234567890"}]},{"location_name":"FSC Integration Site-1","plant_zip":"3456","plant_city":"site city","NumberOfEmployees__fsc":"","location_url":"","Trade_Name__fsc":"","id_certificate_fsc":"","CountryCode_fsc":"US","id_account_fsc":"","id_isprimary":"false","Site_code_extension__fsc":"","plant_address":"Site street site city, Arizona 3456","Local_Company_Name__fsc":"","Preferred_Language__fsc":"","plant_state":"Arizona","certificates_CLIENTCONTACTSjoin_|id_cert|":[{"id_contact_FSCch":"","id_is_primary":"false","Department":"502","MobilePhone":"2345678901","id_location_DMSch":"0038D00000IFXIuQAP","LastName":"1","id_account_FSCch":"","Title":"Title-1","Email":"umesh.kumar@maantic.com","FirstName":"UK","Phone":"12345678901","Salutation":"","Fax":"1234567890"},{"id_contact_FSCch":"","id_is_primary":"false","Department":"502","MobilePhone":"2345678901","id_location_DMSch":"0038D00000IFXIzQAP","LastName":"2","id_account_FSCch":"","Title":"Title-1","Email":"umesh.kumar1@maantic.com","FirstName":"UK","Phone":"12345678901","Salutation":"","Fax":"1234567890"},{"id_contact_FSCch":"","id_is_primary":"false","Department":"502","MobilePhone":"2345678901","id_location_DMSch":"0038D00000IFXJ0QAP","LastName":"3","id_account_FSCch":"","Title":"Title-1","Email":"umesh.kumar2@maantic.com","FirstName":"UK","Phone":"12345678901","Salutation":"","Fax":"1234567890"}]}],"certificates_TRANSACTVERIFICATION_|id_certificate|":[],"standard":["FSC-STD-40-003 V2-1 (G)","FSC-STD-50-001 V2-0","FSC-STD-40-007 V2-0"],"CERT_D502_ProdGroup_FSC":[{"level3":"","level1":"","Activity_Secondary":"","ID_prodgroup_fscPK":"","Activity_Primary":"","id":"a2N8D000000KpAgUAK","category":[""],"level2":"","fsc_comments":"","fsc_trade_name":"","PRODUCTSPECIES_Join":[{"id_species_fscch":"a2d8D0000012sMjQAI","id_productgroup_scsch":"a2N8D000000KpAgUAK","id_productgroup_fscch":"","ID_prodspecies_fscPK":""}]}]}]';
            request.setBody(resuestJson);
            //Creating http object...
            Http sendRequest = new Http();
            //Send the request...
            HttpResponse response = sendRequest.send(request);
            system.debug('Response Status Code***'+response.getStatusCode());
            system.debug('Response***'+response.getBody());
            Opportunity_Certificate__c obj = new Opportunity_Certificate__c();
            obj.Id ='a2C74000000BmjwEAC';
            obj.Scope_of_certification__c = response.getBody();
            obj.Version__c = String.valueOf(response.getStatusCode());
            update obj;
        }

}